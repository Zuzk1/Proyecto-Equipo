<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    package="com.example.proyectoaula">
    <!-- ================================== Permisos ================================== -->
    <uses-permission android:name="android.permission.SCHEDULE_EXACT_ALARM" />
    <uses-permission android:name="android.permission.POST_NOTIFICATIONS" />
    <uses-permission android:name="android.permission.VIBRATE" />
    <!--
    ===== INICIO DE LA PUTA CORRECCIÓN FINAL Y DEFINITIVA =====
    Esto es OBLIGATORIO en versiones recientes de Android para que tu app
    pueda "ver" qué otras apps (como Chrome) pueden abrir un enlace web.
    Sin esto, el Intent para abrir la web se ignora silenciosamente.
    -->
    <queries>
        <intent>
            <action android:name="android.intent.action.VIEW" />

            <data android:scheme="https" />
        </intent>
    </queries>

    <application
        android:allowBackup="true"
        android:dataExtractionRules="@xml/data_extraction_rules"
        android:enableOnBackInvokedCallback="true"
        android:fullBackupContent="@xml/backup_rules"
        android:icon="@mipmap/icono"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/icono_round"
        android:supportsRtl="true"
        android:theme="@style/Theme.ProyectoAula"
        tools:targetApi="31">
        <activity
            android:name=".calendar_academic_images"
            android:exported="false" />
        <!-- Se añade enableOnBackInvokedCallback para quitar el warning de tus logs -->
        <!-- =============================== Actividades de la App =============================== -->
        <activity
            android:name=".MainActivity"
            android:exported="true"
            android:theme="@style/Theme.App.Starting">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity
            android:name=".MainActivity2"
            android:exported="false"
            android:label="Erro Task" />
        <activity
            android:name=".AddReminderActivity"
            android:exported="false" />
        <activity
            android:name=".AddReminderViewActivity"
            android:exported="false" />
        <activity
            android:name=".DayDetailsActivity"
            android:exported="false"
            android:theme="@style/Theme.AppCompat.Light.Dialog" /> <!-- =============================== Componentes de Sistema =============================== -->
        <receiver
            android:name=".NotificationReceiver"
            android:enabled="true"
            android:exported="true" />

        <meta-data
            android:name="preloaded_fonts"
            android:resource="@array/preloaded_fonts" />
    </application>

</manifest>